# カメラデバイス対応の診断ログ

## 現状確認

### ホストマシンのデバイス状態
- 2つの物理カメラが接続されている：
  1. USB2.0 HD UVC WebCam:
     - デバイスノード: `/dev/video0` から `/dev/video3`
     - メディアデバイス: `/dev/media0`, `/dev/media1`
  2. USB Camera L-837:
     - デバイスノード: `/dev/video4`, `/dev/video5`
     - メディアデバイス: `/dev/media2`
- すべてのデバイスの権限設定: `crw-rw----+`（root:video）

### コンテナ内のデバイス状態
- `/dev/video0` のみが利用可能
- 権限設定: `crw-rw----`（root:video）
- グループ設定: `video` グループに正しく追加されている

### 現在の設定（docker-compose.yml）
- 単一デバイスのみマウント: `/dev/video0:/dev/video0`
- グループ設定: `group_add: - video`
- 環境変数: `CAMERA_ID=0`

## 検証事項

### 1. ホストマシンのカメラデバイス確認
- [x] `ls -l /dev/video*` で利用可能なデバイスを確認
  - 6つのビデオデバイスが存在（/dev/video0-5）
- [x] `v4l2-ctl --list-devices` でデバイスの詳細情報を確認
  - 2つの物理カメラを特定

### 2. アクセス権限の検証
- [ ] ホスト側でのビデオデバイスの権限設定確認
- [ ] コンテナ内でのアクセス権限の動作確認

### 3. マウント設定の検証
- [ ] 追加のカメラデバイスが存在する場合のマウント設定確認
- [ ] 動的なデバイスマウントの可能性検討

## 次のステップ
1. docker-compose.ymlの更新
   - 両方のカメラデバイスをマウント
   - 環境変数の調整（複数カメラ対応）
2. カメラ選択機能の実装
3. 動作確認とテスト